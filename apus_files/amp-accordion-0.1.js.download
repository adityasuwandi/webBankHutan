(self.AMP=self.AMP||[]).push({n:"amp-accordion",v:"1505341213754",f:(function(AMP){function e(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d;a.prototype.constructor=a;for(var b in c)if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(c,b);h&&Object.defineProperty(a,b,h)}else a[b]=c[b]};Date.now();self.log=self.log||{user:null,dev:null,userForEmbed:null};var k=self.log;function l(){if(!k.user)throw Error("failed to call initLogConstructor");return k.user};function m(a,c,d){for(var b=a;b&&b!==d;b=b.parentElement)if(c(b))return b;return null};function n(a){AMP.BaseElement.call(this,a);this.b=[];this.a=this.c=null;this.g=!1}e(n,AMP.BaseElement);n.prototype.isLayoutSupported=function(a){return"container"==a};
n.prototype.buildCallback=function(){var a=this;this.g=this.element.hasAttribute("disable-session-states");this.c=p(this);this.a=q(this);var c=this.getRealChildren();c.forEach(function(d,b){l().assert("section"==d.tagName.toLowerCase(),"Sections should be enclosed in a <section> tag, See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",a.element);var c=d.children;l().assert(2==c.length,"Each section must have exactly two children. See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",
a.element);var g=c[1];g.classList.add("i-amphtml-accordion-content");var f=g.getAttribute("id");f||(f=a.element.id+"_AMP_content_"+b,g.setAttribute("id",f));a.a[f]?d.setAttribute("expanded",""):!1===a.a[f]&&d.removeAttribute("expanded");a.mutateElement(function(){});b=c[0];b.classList.add("i-amphtml-accordion-header");b.setAttribute("role","heading");b.setAttribute("aria-controls",f);b.setAttribute("aria-expanded",d.hasAttribute("expanded").toString());b.hasAttribute("tabindex")||b.setAttribute("tabindex",
0);a.b.push(b);b.addEventListener("click",a.h.bind(a));b.addEventListener("keydown",a.i.bind(a))})};function p(a){var c=a.element.id||a.element.getResourceId();a=a.win.location.href;var d=a.indexOf("#");a=-1==d?a:a.substring(0,d);return"amp-"+c+"-"+a}function q(a){if(a.g)return{};try{var c=a.win.sessionStorage.getItem(a.c);return c?JSON.parse(c):{}}catch(d){return{}}}function r(a){if(!a.g){var c=JSON.stringify(a.a);try{a.win.sessionStorage.setItem(a.c,c)}catch(d){}}}
function t(a,c){c.preventDefault();var d=c.currentTarget,b=d.parentElement,h=b.children[1].getAttribute("id"),g=b.hasAttribute("expanded");a.mutateElement(function(){b.hasAttribute("expanded")?(b.removeAttribute("expanded"),d.setAttribute("aria-expanded","false")):(b.setAttribute("expanded",""),d.setAttribute("aria-expanded","true"))},b);a.a[h]=!g;r(a)}n.prototype.h=function(a){var c=m(a.target,function(a){return"A"==a.tagName},a.currentTarget);null===c&&t(this,a)};
n.prototype.i=function(a){if(!a.defaultPrevented){var c=a.keyCode;switch(c){case 38:case 40:var d=this.b.indexOf(a.currentTarget);if(-1!==d){a.preventDefault();a=(d+(38==a.keyCode?-1:1))%this.b.length;0>a&&(a+=this.b.length);try{this.b[a].focus()}catch(b){}}break;case 13:case 32:a.target==a.currentTarget&&t(this,a)}}};(function(a){a.registerElement("amp-accordion",n)})(self.AMP);
})});
//# sourceMappingURL=amp-accordion-0.1.js.map

